import pandas as pd
from sklearn.feature_selection import RFE
from sklearn.linear_model import LinearRegression

y = pd.read_csv("Target.csv")
x = pd.read_csv("XsAll.csv")
names=x.columns

lr=LinearRegression()
rfe=RFE(lr,n_features_to_select=10)

rfe.fit(x,y)
print ("features sorted by their rank:" )
print (sorted(zip(map(lambda x:round(x,4), rfe.ranking_),names)))

# result:
# features sorted by their rank:
# [(1, 'V121'), (1, 'V124'), (1, 'V125'), (1, 'V49'), (1, 'V53'), (1, 'V67'), (1, 'V68'), (1, 'V70'), (1, 'V74'), (1, 'V97'), (2, 'V76'), (3, 'V19'), (4, 'V79'), (5, 'V109'), (6, 'V46'), (7, 'V127'), (8, 'V100'), (9, 'V43'), (10, 'V56'), (11, 'V5'), (12, 'V77'), (13, 'V17'), (14, 'V110'), (15, 'V31'), (16, 'V37'), (17, 'V38'), (18, 'V32'), (19, 'V83'), (20, 'V35'), (21, 'V13'), (22, 'V88'), (23, 'V94'), (24, 'V16'), (25, 'V73'), (26, 'V8'), (27, 'V85'), (28, 'V44'), (29, 'V41'), (30, 'V55'), (31, 'V61'), (32, 'V40'), (33, 'V34'), (34, 'V92'), (35, 'V11'), (36, 'V82'), (37, 'V20'), (38, 'V113'), (39, 'V112'), (40, 'V52'), (41, 'V95'), (42, 'V4'), (43, 'V103'), (44, 'V106'), (45, 'V80'), (46, 'V122'), (47, 'V10'), (48, 'V128'), (49, 'V86'), (50, 'V65'), (51, 'V119'), (52, 'V23'), (53, 'V29'), (54, 'V26'), (55, 'V64'), (56, 'V62'), (57, 'V116'), (58, 'V22'), (59, 'V71'), (60, 'V14'), (61, 'V25'), (62, 'V59'), (63, 'V101'), (64, 'V89'), (65, 'V91'), (66, 'V50'), (67, 'V58'), (68, 'V47'), (69, 'V28'), (70, 'V104'), (71, 'V93'), (72, 'V115'), (73, 'V87'), (74, 'V18'), (75, 'V78'), (76, 'V98'), (77, 'V48'), (78, 'V69'), (79, 'V120'), (80, 'V123'), (81, 'V99'), (82, 'V45'), (83, 'V51'), (84, 'V105'), (85, 'V36'), (86, 'V66'), (87, 'V81'), (88, 'V96'), (89, 'V39'), (90, 'V7'), (91, 'V90'), (92, 'V63'), (93, 'V117'), (94, 'V30'), (95, 'V57'), (96, 'V107'), (97, 'V3'), (98, 'V102'), (99, 'V75'), (100, 'V6'), (101, 'V9'), (102, 'V27'), (103, 'V33'), (104, 'V72'), (105, 'V84'), (106, 'V42'), (107, 'V126'), (108, 'V60'), (109, 'V114'), (110, 'V12'), (111, 'V111'), (112, 'V108'), (113, 'V21'), (114, 'V54'), (115, 'V24'), (116, 'V15'), (117, 'V118')]
